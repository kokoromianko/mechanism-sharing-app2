# メカニズム共有プラットフォーム 開発コンテキスト

## 要約

メカニズム共有プラットフォームは、物理的なメカニズムを可視化して共有し、ユーザー間でインタラクションを行うためのWebアプリケーションです。現在はMVP（Minimum Viable Product）開発フェーズにあり、基本的なプロジェクト構造とデータモデルが整備されています。バックエンドはPython + FastAPI、フロントエンドはReact + TypeScript + Tailwind CSSで実装されています。現在は、APIエンドポイントの実装とフロントエンドの機能実装を進める段階にあります。プロジェクトの設計図（ER図、クラス図、アーキテクチャ図）が作成され、開発の指針となっています。

## 1. プロジェクト概要

### 1.1 目的
物理的なメカニズムを可視化して共有し、ユーザー間でインタラクションを行うプラットフォームを提供することを目的としています。ユーザーはメカニズムを投稿・閲覧・評価することができます。

### 1.2 主要機能
- ユーザー管理機能（登録・認証）
- メカニズム投稿・表示機能
- カテゴリー管理機能
- いいね機能
- 信頼性レベル管理

## 2. 現在の開発状況

### 2.1 全体進捗
プロジェクトは現在、MVPの開発段階にあります。基本的なプロジェクト構造が整備され、データモデルやスキーマの定義が完了しています。APIエンドポイントの実装とフロントエンドの機能実装はこれから進める予定です。

### 2.2 バックエンド（Python + FastAPI）
- 基本的なプロジェクト構造が整備されています
- データベースモデル（User, Mechanism, Category, Like）が定義されています
- Pydanticスキーマが定義されています
- メインアプリケーションの骨組みが実装されています
- 実際のAPIエンドポイント実装はまだ行われていません
- 仮想環境はルートディレクトリ以下に.venvフォルダとして置かれています

### 2.3 フロントエンド（React + TypeScript + Tailwind CSS）
- プロジェクト構造が整備されています
- 基本的なページコンポーネントの骨組みが実装されています
- ルーティングが設定されています
- スタイリングにTailwind CSSが導入されています
- APIとの連携はまだ実装されていません

## 3. 実装済みの機能

### 3.1 バックエンド
- プロジェクト構造の整備
- データベースモデルの定義
  - User（ユーザー）モデル
  - Mechanism（メカニズム）モデル
  - Category（カテゴリー）モデル
  - Like（いいね）モデル
- Pydanticスキーマの定義
- 基本的な設定（config.py）
- データベース接続設定（database.py）
- メインアプリケーションの骨組み（main.py）

### 3.2 フロントエンド
- プロジェクト構造の整備
- ルーティング設定
- 基本的なページコンポーネントの骨組み
  - ログインページ
  - 新規登録ページ
  - メカニズム一覧ページ
  - メカニズム詳細ページ
  - メカニズム投稿ページ
- Tailwind CSSの導入

## 4. 実装予定の機能（MVP対象）

### 4.1 バックエンド
- データベース設定（PostgreSQL）
- 認証機能実装
  - ユーザー登録API
  - ログインAPI
  - JWT認証ミドルウェア
- メカニズム管理API実装
  - メカニズム一覧取得API
  - メカニズム詳細取得API
  - メカニズム投稿API（ファイルアップロード含む）
- カテゴリー管理API実装
- いいね機能API実装

### 4.2 フロントエンド
- 認証画面機能実装
- 共通コンポーネント実装
- メカニズム一覧画面機能実装
- メカニズム詳細画面機能実装
- メカニズム投稿画面機能実装
- APIとの連携実装

## 5. 課題と対応状況

### 5.1 現在の課題
1. 新規投稿画面でカテゴリ入力を別の画面からボタンクリックで入力できるようにしたい（テスト必要）

### 5.2 完了した課題
24. メカニズム投稿画面でエラーメッセージを投稿ボタンの下に表示するよう修正（2025-05-10完了）
   - 問題：投稿画面で投稿するボタンを押したときにスクロールしないとエラーが見えないことがあった
   - 修正内容：
     - `frontend/src/pages/MechanismNewPage.tsx`を修正し、エラーメッセージを投稿ボタンの下に表示するよう変更
     - 必須項目が記入されていない場合のエラーメッセージをリスト形式で表示
     - `frontend/src/__tests__/pages/MechanismNewPage.test.tsx`も更新して新しいUI構造に対応
   - 結果：ユーザーが投稿ボタンを押した後、スクロールしなくてもエラーメッセージを確認できるようになり、使いやすさが向上

23. メカニズム詳細画面に「ダウンロード」ボタンを追加（2025-05-10完了）
   - 問題：メカニズム詳細画面で「ファイルを表示」ボタンはあるが、ファイルを直接ダウンロードする機能がなかった
   - 修正内容：
     - `frontend/src/pages/MechanismDetailPage.tsx`を修正し、「ファイルを表示」ボタンの隣に「ダウンロード」ボタンを追加
     - ダウンロードボタンには`download`属性を指定し、ファイルを直接ダウンロードできるようにした
     - ボタンのスタイルは緑色にして、「ファイルを表示」ボタンと区別しやすくした
   - 結果：ユーザーがメカニズム詳細画面からファイルを直接ダウンロードできるようになり、利便性が向上した

22. メカニズム一覧でタイルをクリックして詳細画面に遷移できるよう修正（2025-05-10完了）
   - 問題：メカニズム一覧画面でタイトルのみがクリック可能で、タイル全体をクリックしても詳細画面に遷移しなかった
   - 修正内容：
     - `frontend/src/pages/MechanismListPage.tsx`を修正し、タイル全体を`<Link>`コンポーネントで囲む
     - タイトル部分の`<Link>`を削除し、通常のテキストに変更
     - タイルにカーソルポインタスタイルを追加して、クリック可能であることを視覚的に示す
   - 結果：メカニズム一覧画面でタイル全体をクリックすると詳細画面に遷移するようになり、ユーザビリティが向上した

20. 統合テストでのファイルパス処理の修正（2025-05-10完了）
   - 問題：05-06完了となっている状態ではまだ、実際の画面で画像が表示されていなかった
   - 修正内容：ブラウザでファイルパスを確認し、uploadsが重複していることを確認した。fileUtils.tsでuploadsを加えているところを削除した
   - 結果：問題なく画像が表示されるようになった
22. READMEのデータベースセットアップ手順の改善（2025-05-07完了）
   - 問題：PostgreSQLデータベース作成後のマイグレーション実行手順が不足していた
   - 修正内容：
     - PostgreSQLデータベース作成後のマイグレーション実行手順を追加
     - マイグレーションの状態確認方法とマイグレーション履歴確認方法を追加
   - 結果：バックエンドのセットアップ手順が明確になり、初めてプロジェクトに参加する開発者がスムーズにデータベースをセットアップできるようになった

20. 統合テストでのファイルパス処理の修正（2025-05-06完了）
   - 問題：PNGファイルのアップロードと表示のテストが失敗する
   - 原因：テストコードでファイルパスの扱いが不適切で、`client.get(f"/{file_path}")`としていたが、`file_path`には既に`uploads/files/uuid.png`のようなパスが含まれていた
   - 修正内容：
     - `tests/integration/test_mechanism_integration.py`の`test_upload_and_display_png_file`テストを修正
     - ファイルパスを`/uploads/files/{os.path.basename(file_path)}`の形式に変更
     - サムネイルパスも同様に修正
   - 結果：PNGファイルのアップロードと表示のテストが正常に実行されるようになった

21. ファイルとサムネイル画像のURL構築処理の修正（2025-05-04完了）
   - 問題：メカニズム詳細画面から「ファイルを表示」しても画像が表示されない、メカニズム一覧画面でサムネイル画像が表示されない
   - 原因：フロントエンドでファイルパスをそのまま使用していたため、正しいURLが構築されていなかった
   - 修正内容：
     - `frontend/src/utils/fileUtils.ts`を新規作成し、ファイルパスをフルURLに変換する`getFileUrl`関数を実装
     - `frontend/src/pages/MechanismDetailPage.tsx`を修正し、ファイルパスを`getFileUrl`関数で処理するよう変更
     - `frontend/src/pages/MechanismListPage.tsx`を修正し、サムネイルパスを`getFileUrl`関数で処理するよう変更
   - 結果：アップロードされたファイルとサムネイル画像が正しく表示されるようになった

20. メカニズム詳細画面のファイル表示機能の修正（2025-05-04完了）
   - 問題：メカニズム投稿できるが、詳細画面から「ファイルを表示」しても画像が表示されない（アップロードしたのはpngファイル）
   - 原因：アップロードされたファイルが静的ファイルとして公開されていなかった
   - 修正内容：
     - `backend/app/main.py`に`StaticFiles`ミドルウェアを追加して、`uploads`ディレクトリを静的ファイルとして公開
     - `frontend/src/pages/MechanismDetailPage.tsx`のファイル表示部分を改善して、画像ファイルの場合はプレビューを表示するよう修正
   - 結果：アップロードされたpngファイルがメカニズム詳細画面で正しく表示されるようになった
19. メカニズムAPIエンドポイントの修正（2025-05-04完了）
   - 問題：ログイン後のトップページに「メカニズム一覧の取得に失敗しました」というエラーメッセージが出る
   - 原因：フロントエンドからのリクエストが`/mechanisms`に送信されていたが、バックエンドのエンドポイントは`/api/mechanisms`
   - 修正内容：
     - `mechanismService.ts`のリクエスト先を`/mechanisms`から`/api/mechanisms`に修正
     - `mechanismService.ts`のリクエスト先を`/likes`から`/api/likes`に修正
   - 結果：フロントエンドからのリクエストがバックエンドのエンドポイントと正しく一致し、メカニズム一覧が正常に取得できるようになった
19. 認証APIエンドポイントの修正（2025-05-03完了）
   - 問題：新規登録機能が動作しない（404エラー）
   - 原因：フロントエンドからのリクエストが`/register`に送信されていたが、バックエンドのエンドポイントは`/api/auth/register`
   - 修正内容：
     - `authService.ts`のリクエスト先を`/register`から`/api/auth/register`に修正
     - `authService.ts`のリクエスト先を`/login`から`/api/auth/login`に修正
     - 関連するテストコード`authService.test.ts`も同様に修正
   - 結果：フロントエンドからのリクエストがバックエンドのエンドポイントと正しく一致し、新規登録機能が正常に動作するようになった

18. 統合テスト（2025-05-03完了）
   - 統合テスト用の設定ファイル（conftest.py）の実装
     - テスト用データベース設定
     - テスト用クライアント設定
     - テスト用フィクスチャ（ユーザー、カテゴリー、メカニズム、いいね）の実装
   - 認証機能の統合テスト実装
     - ユーザー登録からログインまでのフロー検証
     - 無効な認証情報でのログイン失敗検証
     - 認証が必要なエンドポイントへのアクセス検証
   - メカニズム機能の統合テスト実装
     - メカニズム一覧取得の検証
     - メカニズム詳細取得の検証
     - メカニズム作成の検証
     - 認証なしでのメカニズム操作の検証
     - 無効なデータでのメカニズム作成の検証
   - カテゴリー機能の統合テスト実装
     - カテゴリー一覧取得の検証
     - カテゴリー詳細取得の検証
     - カテゴリー作成・更新・削除の検証
     - 認証なしでのカテゴリー操作の検証
   - いいね機能の統合テスト実装
     - いいね追加・取り消しの検証
     - いいね数取得の検証
     - ユーザーがいいねしたメカニズム一覧取得の検証
     - 人気のメカニズム取得の検証
   - フロントエンドとバックエンドの連携テスト実装
     - 認証フローの検証
     - メカニズム操作フローの検証
     - カテゴリー操作フローの検証
     - エラーハンドリングの検証
     - ファイルアップロード機能の検証
   - 統合テスト実行スクリプトの作成
17. APIとの連携実装（2025-05-02完了）
   - mechanismService.tsのテスト実装
     - メカニズム一覧取得機能のテスト
       - 正常にメカニズム一覧を取得できることのテスト
       - ページネーションパラメータを指定して取得できることのテスト
       - エラー時に例外をスローすることのテスト
     - メカニズム詳細取得機能のテスト
       - 正常にメカニズム詳細を取得できることのテスト
       - エラー時に例外をスローすることのテスト
     - メカニズム作成機能のテスト
       - 正常にメカニズムを作成できることのテスト
       - FormDataオブジェクトが正しく構築されることのテスト
       - エラー時に例外をスローすることのテスト
     - いいね機能のテスト
       - 正常にいいねを付けられることのテスト
       - エラー時に例外をスローすることのテスト
     - いいね取り消し機能のテスト
       - 正常にいいねを取り消せることのテスト
       - エラー時に例外をスローすることのテスト
   - api.tsのテスト実装
     - ローカルストレージ操作のテスト
       - トークンを取得できることのテスト
       - トークンを削除できることのテスト
     - リダイレクト機能のテスト
       - ログインページにリダイレクトできることのテスト
     - インターセプターのテスト実装（2025-05-02）
       - リクエストインターセプターのテスト
         - トークンがある場合、リクエストヘッダーにAuthorizationが追加されることのテスト
         - トークンがない場合、リクエストヘッダーにAuthorizationが追加されないことのテスト
       - レスポンスインターセプターのテスト
         - 正常なレスポンスが適切に処理されることのテスト
         - 401エラーの場合、ログアウト処理が実行されることのテスト
         - その他のエラーの場合、ログアウト処理が実行されないことのテスト
16. メカニズム投稿画面機能実装（2025-05-02完了）
   - メカニズム投稿フォームの実装
     - タイトル入力フィールド
     - 説明入力フィールド（TextArea）
     - 信頼性レベル選択フィールド（Select）
     - カテゴリー入力フィールド
     - メカニズムファイルアップロードフィールド
     - サムネイル画像アップロードフィールド（オプション）
   - フォームバリデーション機能の実装
     - 必須フィールドのチェック（タイトル、説明、メカニズムファイル）
     - エラーメッセージの表示
   - ファイルアップロード機能の実装
     - FileUploadコンポーネントの使用
     - 選択されたファイル名の表示
     - 対応ファイル形式の制限
   - API連携機能の実装
     - フォームデータの送信
     - FormDataオブジェクトの構築
     - 送信中のローディング表示
     - エラーハンドリング
     - 成功時のリダイレクト
   - メカニズム投稿画面のテストコード実装
     - フォーム表示のテスト
     - フォーム入力と送信のテスト
     - バリデーションエラー表示のテスト
     - APIエラー表示のテスト
     - キャンセルボタン機能のテスト
   - メカニズム投稿画面のテスト修正（2025-05-02）
     - reliability値の型を文字列から数値に修正（実装と一致するよう）
     - キャンセルボタンの特定方法を改善（複数のボタンが存在する場合の対応）
15. メカニズム詳細画面機能実装（2025-05-02完了）
   - メカニズム詳細画面コンポーネントの実装
     - APIからメカニズム詳細データを取得
     - ローディング状態表示
     - エラーハンドリング
     - メカニズム基本情報表示（タイトル、説明、投稿者情報）
     - 信頼性レベルの文字列表示
     - カテゴリー表示
     - ファイル表示機能
     - 投稿日時・更新日時表示
   - いいね機能の実装
     - 認証状態に応じた処理（未認証時はログインページへリダイレクト）
     - いいねの追加・取り消し機能
     - いいね数の表示
   - メカニズム詳細画面のテストコード実装
     - ローディング状態のテスト
     - メカニズム詳細表示のテスト
     - エラー表示のテスト
     - いいね機能のテスト（認証状態別）
     - 存在しないメカニズムIDの場合のエラー表示テスト
14. メカニズム一覧画面機能実装（2025-05-02完了）
   - メカニズム関連の型定義の実装
     - Mechanism型（基本情報）
     - MechanismDetail型（詳細情報）
     - PaginatedMechanismResponse型（ページネーション対応レスポンス）
     - MechanismFormData型（フォームデータ）
   - メカニズム関連のAPIサービスの実装
     - メカニズム一覧取得機能
     - メカニズム詳細取得機能
     - メカニズム作成機能
     - いいね機能
   - メカニズム一覧画面コンポーネントの実装
     - APIからデータ取得
     - ページネーション対応
     - ローディング状態表示
     - エラーハンドリング
     - 信頼性レベルの文字列表示
     - サムネイル表示
     - カテゴリー表示
     - いいね数表示
     - 投稿日時表示
   - メカニズム一覧画面のテストコード実装
     - ローディング状態のテスト
     - メカニズム一覧表示のテスト
     - ページネーション機能のテスト
     - エラー表示のテスト
     - データなし時の表示テスト
   - メカニズム一覧画面のテスト修正（2025-05-02）
     - Loadingコンポーネントにrole="status"属性を追加
     - テストでデータ読み込み完了を適切に待機するよう修正
     - ページネーションのテストでaria-labelを正確に指定するよう修正
     - App.test.tsxのテストを修正（より具体的なセレクタを使用）
1. プロジェクトの設計図（ER図、クラス図、アーキテクチャ図）の作成（2025-04-29完了）
   - データベース設計図（ER図）を作成
   - フロントエンドアーキテクチャ図を作成
   - バックエンドアーキテクチャ図を作成
8. 共通コンポーネント実装（2025-04-29完了）
   - Button コンポーネントの実装
     - 複数のバリアント（primary, secondary, danger, success, outline）
     - 複数のサイズ（sm, md, lg）
     - ローディング状態の表示
     - 全幅表示オプション
     - テストコード実装
   - Input コンポーネントの実装
     - ラベル表示
     - エラーメッセージ表示
     - ヘルパーテキスト表示
     - 全幅表示オプション
     - テストコード実装
   - TextArea コンポーネントの実装
     - ラベル表示
     - エラーメッセージ表示
     - ヘルパーテキスト表示
     - 行数指定オプション
     - テストコード実装
   - Select コンポーネントの実装
     - ラベル表示
     - エラーメッセージ表示
     - ヘルパーテキスト表示
     - プレースホルダー表示
     - テストコード実装
   - FileUpload コンポーネントの実装
     - ファイル選択ボタン
     - 選択されたファイル名表示
     - ラベル表示
     - エラーメッセージ表示
     - テストコード実装
   - Pagination コンポーネントの実装
     - ページ番号表示
     - 前後ページへの移動ボタン
     - 最初/最後ページへの移動ボタン
     - 省略記号による長いページ範囲の表示
     - テストコード実装
   - Loading コンポーネントの実装
     - 複数のサイズ（sm, md, lg）
     - カスタムカラー設定
     - 全画面表示オプション
     - ローディングテキスト表示
     - テストコード実装
   - Header コンポーネントの実装
     - タイトル表示
     - サブタイトル表示
     - 戻るリンク表示
     - アクションボタン表示
     - テストコード実装
   - Footer コンポーネントの実装
     - コピーライト表示
     - 内部リンク表示
     - 外部リンク表示
     - テストコード実装
1. メカニズム詳細画面で信頼性のレベルが数字表記だが、「妄想モデル」など信頼性定義文章を表示するようにしたい（2025-04-29完了）
   - 信頼性レベルを数値から文字列に変換する関数 `getReliabilityLabel` を実装
   - 信頼性レベルに応じた背景色とテキスト色のクラス名を返す関数 `getReliabilityColorClass` を実装
   - メカニズム詳細画面で上記関数を使用して信頼性レベルを文字列表示
2. データベース設定の実装（2025-04-29完了）
   - alembicを使用したマイグレーション設定を実装
   - テストデータベース設定を実装
   - データベース設定のテストコードを実装
   - PostgreSQLデータベースの作成とテーブル作成
3. カテゴリー管理API実装（2025-04-29完了）
   - カテゴリーサービスクラスの実装
     - カテゴリー一覧取得機能
     - カテゴリー詳細取得機能
     - カテゴリー作成機能
     - カテゴリー更新機能
     - カテゴリー削除機能
   - カテゴリーAPIエンドポイントの実装
     - GET /api/categories/ - カテゴリー一覧取得
     - GET /api/categories/{category_id} - カテゴリー詳細取得
     - POST /api/categories/ - カテゴリー作成
     - PUT /api/categories/{category_id} - カテゴリー更新
     - DELETE /api/categories/{category_id} - カテゴリー削除
   - カテゴリーサービスのユニットテスト実装
4. いいね機能API実装（2025-04-29完了）
   - いいねサービスクラスの実装
     - いいね取得機能
     - いいね作成機能
     - いいね削除機能
     - メカニズムのいいね数取得機能
     - ユーザーがいいねしたメカニズム一覧取得機能
     - 人気のメカニズム取得機能
   - いいねAPIエンドポイントの実装
     - POST /api/likes/{mechanism_id} - いいね作成
     - DELETE /api/likes/{mechanism_id} - いいね削除
     - GET /api/likes/mechanism/{mechanism_id} - メカニズムのいいね数取得
     - GET /api/likes/popular - 人気のメカニズム取得
     - GET /api/likes/user/{user_id}/liked - ユーザーがいいねしたメカニズム一覧取得
   - いいねサービスのユニットテスト実装
5. 認証機能実装（2025-04-29完了）
   - セキュリティユーティリティの実装
     - パスワードハッシュ化機能
     - JWTトークン生成・検証機能
   - 認証サービスの実装
     - ユーザー登録機能
     - ユーザー認証機能
     - ログイン機能
   - 認証ミドルウェアの実装
     - JWTトークン検証
     - 現在のユーザー取得
   - 認証APIエンドポイントの実装
     - POST /api/auth/register - ユーザー登録
     - POST /api/auth/login - ログイン
   - 認証機能のユニットテスト実装
   - 認証機能エンドポイントテスト実装
     - ユーザー登録エンドポイントのテスト
     - 既存メールアドレスでの登録エラーテスト
     - ログインエンドポイントのテスト
     - 無効な認証情報でのログインエラーテスト
     - 存在しないユーザーでのログインエラーテスト
6. メカニズム管理API実装（2025-04-29完了）
   - メカニズムサービスクラスの実装
     - メカニズム一覧取得機能
     - メカニズム詳細取得機能
     - いいね数取得機能
     - ファイルアップロード機能
     - カテゴリー取得・作成機能
     - メカニズム作成機能
   - メカニズムAPIエンドポイントの実装
     - GET /api/mechanisms/ - メカニズム一覧取得
     - GET /api/mechanisms/{mechanism_id} - メカニズム詳細取得
     - POST /api/mechanisms/ - メカニズム投稿
   - メカニズムサービスのユニットテスト実装
   - アップロードディレクトリの作成
     - uploads/files - メカニズムファイル保存用
     - uploads/thumbnails - サムネイル画像保存用
7. 認証画面機能実装（2025-04-29完了）
   - 認証関連の型定義の実装
     - ユーザー情報の型
     - 認証状態の型
     - ログインフォームの型
     - 登録フォームの型
     - APIレスポンスの型
   - 認証関連のAPIサービスの実装
     - APIクライアントの作成
     - 認証トークン管理機能
     - ユーザー登録機能
     - ログイン機能
     - ログアウト機能
   - 認証コンテキストの実装
     - 認証状態管理
     - ログイン処理
     - 登録処理
     - ログアウト処理
   - 認証関連のコンポーネント実装
     - ログインフォームコンポーネント
     - 登録フォームコンポーネント
     - 保護されたルートコンポーネント
   - レイアウト関連のコンポーネント実装
     - ナビゲーションバー（ログイン/ログアウト機能含む）
     - 共通レイアウト（ヘッダー、フッター）
   - ルーティング設定の更新
     - 認証が必要なルートの保護
   - 認証機能のテストコード実装（2025-04-29完了）
     - ログインフォームのテスト
       - フォーム表示の確認
       - 入力フィールドの動作確認
       - 送信ボタンの動作確認
     - 登録フォームのテスト
       - フォーム表示の確認
       - 入力フィールドの動作確認
       - パスワード確認の一致チェック
       - 送信ボタンの動作確認
     - 保護されたルートのテスト
       - 未認証時のリダイレクト確認
       - 認証時のコンテンツ表示確認
     - 認証コンテキストのテスト
       - 初期状態の確認
       - ログイン処理の確認
       - ログイン失敗時のエラー処理確認
       - 登録処理の確認
       - 登録失敗時のエラー処理確認
       - ログアウト処理の確認
     - 認証サービスのテスト
       - ユーザー登録機能のテスト
       - ログイン機能のテスト
       - トークン管理機能のテスト
       - 認証状態確認機能のテスト

### 5.3 notes
- frontendディレクトリのpackage.jsonにfrontendが追加される件は、linkが設定されてしまっているからの様子。frontendディレクトリで`npm ls`をしてfrontendがいたら、`npm unlink frontend`でリンクを削除できる。自動でpackage.jsonのfrontendも削除される


## 6. 技術スタック

### 6.1 フロントエンド
- React 19
- TypeScript
- Tailwind CSS
- React Router
- React Query
- Axios

### 6.2 バックエンド
- Python 3.10+
- FastAPI
- SQLAlchemy
- Pydantic
- JWT認証
- Bcrypt（パスワードハッシュ化）

### 6.3 データベース
- PostgreSQL

### 6.4 開発ツール
- Git（バージョン管理）
- VSCode（コードエディタ）

## 7. プロジェクト構造

### 7.1 バックエンド構造
```
backend/
├── app/
│   ├── main.py              # メインアプリケーション
│   ├── config.py            # 設定ファイル
│   ├── database.py          # データベース接続
│   ├── models/              # データベースモデル
│   │   ├── user.py          # ユーザーモデル
│   │   ├── mechanism.py     # メカニズムモデル
│   │   ├── category.py      # カテゴリーモデル
│   │   └── like.py          # いいねモデル
│   ├── schemas/             # Pydanticスキーマ
│   │   ├── user.py          # ユーザースキーマ
│   │   ├── mechanism.py     # メカニズムスキーマ
│   │   ├── category.py      # カテゴリースキーマ
│   │   └── like.py          # いいねスキーマ
│   ├── routers/             # APIルーター（未実装）
│   ├── services/            # ビジネスロジック（未実装）
│   ├── middlewares/         # ミドルウェア（未実装）
│   └── utils/               # ユーティリティ（未実装）
└── requirements.txt         # 依存関係
```

### 7.2 フロントエンド構造
```
frontend/
├── public/                  # 静的ファイル
├── src/
│   ├── App.tsx              # メインアプリケーション
│   ├── index.tsx            # エントリーポイント
│   ├── components/          # コンポーネント
│   │   ├── auth/            # 認証関連コンポーネント
│   │   ├── common/          # 共通コンポーネント
│   │   ├── layout/          # レイアウトコンポーネント
│   │   └── mechanism/       # メカニズム関連コンポーネント
│   ├── pages/               # ページコンポーネント
│   │   ├── LoginPage.tsx    # ログインページ
│   │   ├── RegisterPage.tsx # 新規登録ページ
│   │   ├── MechanismListPage.tsx    # メカニズム一覧ページ
│   │   ├── MechanismDetailPage.tsx  # メカニズム詳細ページ
│   │   └── MechanismNewPage.tsx     # メカニズム投稿ページ
│   ├── services/            # APIサービス（未実装）
│   ├── hooks/               # カスタムフック（未実装）
│   ├── contexts/            # コンテキスト（未実装）
│   ├── types/               # 型定義（未実装）
│   └── utils/               # ユーティリティ（未実装）
├── package.json             # 依存関係
└── tsconfig.json            # TypeScript設定
```

## 8. 今後の開発計画

### 8.1 設計ドキュメント
プロジェクトの設計図は以下のファイルに保存されています：
- `docs/database_diagram.md`: データベース設計図（ER図）
- `docs/frontend_architecture.md`: フロントエンドアーキテクチャ図
- `docs/backend_architecture.md`: バックエンドアーキテクチャ図

これらの設計図は、開発の進行に合わせて適宜更新されます。

### 8.2 MVPリリースまでのマイルストーン
1. バックエンド基盤完成（2週間）
   - データベース設計・実装完了
   - 認証APIの実装完了
   - メカニズム管理APIの実装完了
   - いいね機能APIの実装完了

2. フロントエンド基本機能完成（3週間）
   - 認証画面の実装完了
   - メカニズム一覧・詳細画面の実装完了
   - メカニズム投稿機能の実装完了
   - APIとの連携完了

3. 統合・テスト（1週間）
   - 統合テスト完了
   - バグ修正完了

### 8.3 MVPリリース後の拡張計画
1. ソート・フィルター機能
2. コメント機能
3. 統計情報管理（閲覧数、時系列データ可視化）
4. ダウンロード・シェア機能
5. プロフィール管理機能の拡充
